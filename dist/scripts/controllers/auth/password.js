"use strict";angular.module("sbAdminApp").controller("PasswordCtrl",function($scope,Auth,$state,$timeout,$stateParams){$scope.errflag=!1,$scope.errmsg="",$scope.disableFlag=!0,$scope.forgetPwd=function(){Auth.forgot($scope.useremail).then(function(res){var resVal=res.data;resVal.success?($scope.errflag=!0,$scope.errmsg="Please Check your email for reset password",$timeout(function(){$state.go("login")},5e3)):($scope.errflag=!0,$scope.errmsg=resVal.message)})},$scope.$watch("confirmpwd",function(val){val!==$scope.password?$scope.errflag=!0:$scope.errflag=!1}),$scope.sendPwd=function(){if(!$scope.errflag){var request={resetToken:$stateParams.resetToken,emailId:$stateParams.emailId,newPassword:$scope.password};Auth.resetPassword(request).then(function(res){res.data.success?$state.go("login"):($scope.errflag=!0,$scope.errmsg=res.data.message)})}}});